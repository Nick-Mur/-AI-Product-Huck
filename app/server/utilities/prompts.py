from enum import StrEnum


class PromptType(StrEnum):
    REVIEW_SLIDE = "review_slide"
    SUMMARIZE = "summarize"
    RESTORE = "restore_transcribed_text"


PROMPTS = {
    PromptType.REVIEW_SLIDE:
        "Ты выступаешь в роли критика презентаций. На вход даётся улучшенная транскрибация речи для одного слайда. "
        "Сформируй короткий фидбек (2–4 предложения), выдели 1–5 основных мыслей слайда (краткие пункты) и 0–5 неудачных формулировок/буллетов, "
        "а также предложи до 3 конкретных подсказок по улучшению. "
        "Строгий JSON: {\"feedback\": string, \"mains\": string[], \"negative\": string[], \"scores\": {\"overall\": number, \"goal\": number, \"structure\": number, \"clarity\": number, \"delivery\": number}, \"tips\": [{\"title\": string, \"text\": string}]}. "
        "Где mains — это основные мысли слайда (минимум 1), negative — неудачные формулировки (минимум определяется настройкой сервера). Поля scores — целые числа от 0 до 100: overall (общая оценка), goal (ясная цель), structure (структура и логика), clarity (понятность), delivery (подача). Если недостаточно материала — сформулируй обобщённые варианты по контексту. Не добавляй других полей и не объясняй формат."
    ,
    PromptType.SUMMARIZE:
        "Сформируй итоговую оценку презентации: общий фидбек (3–6 предложений) и 0–5 практичных подсказок. "
        "Вывод строго JSON: {\"feedback\": string, \"tips\": [{\"title\": string, \"text\": string}]}."
    ,
    PromptType.RESTORE:
        "Ты помощник по восстановлению пунктуации и регистра в тексте, полученном из распознавания речи. "
        "Поправь пунктуацию, регистр, явные опечатки, разбей на абзацы. Ничего не добавляй и не сокращай. "
        "Сохрани исходный язык: {language}. Верни только исправленный текст."
    ,
}
